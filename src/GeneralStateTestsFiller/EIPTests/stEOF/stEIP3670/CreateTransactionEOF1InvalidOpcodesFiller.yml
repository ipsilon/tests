# CreateTransaction: 
#   - Test all invalid opcodes are not deployed in EOF 
#   - Test all invalid opcodes makes initcode invalid
---
CreateTransactionEOF1InvalidOpcodes:
  env:
    currentCoinbase: 2adc25665018aa1fe0e6bc666dac8fc2697ff9ba
    currentDifficulty: '0x020000'
    currentGasLimit: '89128960'
    currentBaseFee: '10'
    currentNumber: '1'
    currentTimestamp: '1000'
    previousHash: 5e20a0453cecd065ea59c37ac63e079ee08998b6045136a8ce6635c7912ec0b6

  pre:
    a94f5374fce5edbc8e2a8697c15331677e6ebf0b:
      balance: 1000000000
      code: ''
      nonce: 0
      storage: {}

  transaction:
    data:
     # Invalid opcodes in initcode
     # Initcode:
     #   {
     #     <invalid_opcode>
     #     mstore(0, 0xef000101000402000100010300000000000000fe000000000000000000000000)
     #     return(0, 20)
     #   }
     # EOF Code: 0xfe
     - 'label invinit_0c :raw 0xef0001010004020001002a03000000000000020c7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_0d :raw 0xef0001010004020001002a03000000000000020d7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_0e :raw 0xef0001010004020001002a03000000000000020e7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_0f :raw 0xef0001010004020001002a03000000000000020f7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_1e :raw 0xef0001010004020001002a03000000000000021e7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_1f :raw 0xef0001010004020001002a03000000000000021f7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_21 :raw 0xef0001010004020001002a0300000000000002217fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_22 :raw 0xef0001010004020001002a0300000000000002227fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_23 :raw 0xef0001010004020001002a0300000000000002237fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_24 :raw 0xef0001010004020001002a0300000000000002247fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_25 :raw 0xef0001010004020001002a0300000000000002257fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_26 :raw 0xef0001010004020001002a0300000000000002267fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_27 :raw 0xef0001010004020001002a0300000000000002277fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_28 :raw 0xef0001010004020001002a0300000000000002287fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_29 :raw 0xef0001010004020001002a0300000000000002297fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_2a :raw 0xef0001010004020001002a03000000000000022a7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_2b :raw 0xef0001010004020001002a03000000000000022b7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_2c :raw 0xef0001010004020001002a03000000000000022c7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_2d :raw 0xef0001010004020001002a03000000000000022d7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_2e :raw 0xef0001010004020001002a03000000000000022e7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_2f :raw 0xef0001010004020001002a03000000000000022f7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_49 :raw 0xef0001010004020001002a0300000000000002497fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_4a :raw 0xef0001010004020001002a03000000000000024a7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_4b :raw 0xef0001010004020001002a03000000000000024b7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_4c :raw 0xef0001010004020001002a03000000000000024c7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_4d :raw 0xef0001010004020001002a03000000000000024d7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_4e :raw 0xef0001010004020001002a03000000000000024e7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_4f :raw 0xef0001010004020001002a03000000000000024f7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_56 :raw 0xef0001010004020001002a0300000000000000567fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_57 :raw 0xef0001010004020001002a0300000000000000577fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_5e :raw 0xef0001010004020001002a03000000000000005e7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_a5 :raw 0xef0001010004020001002a0300000000000002a57fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_a6 :raw 0xef0001010004020001002a0300000000000002a67fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_a7 :raw 0xef0001010004020001002a0300000000000002a77fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_a8 :raw 0xef0001010004020001002a0300000000000002a87fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_a9 :raw 0xef0001010004020001002a0300000000000002a97fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_aa :raw 0xef0001010004020001002a0300000000000002aa7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_ab :raw 0xef0001010004020001002a0300000000000002ab7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_ac :raw 0xef0001010004020001002a0300000000000002ac7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_ad :raw 0xef0001010004020001002a0300000000000002ad7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_ae :raw 0xef0001010004020001002a0300000000000002ae7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_af :raw 0xef0001010004020001002a0300000000000002af7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_b2 :raw 0xef0001010004020001002a0300000000000000b27fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_b3 :raw 0xef0001010004020001002a0300000000000002b37fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_b4 :raw 0xef0001010004020001002a0300000000000002b47fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_b5 :raw 0xef0001010004020001002a0300000000000002b57fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_b6 :raw 0xef0001010004020001002a0300000000000002b67fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_b7 :raw 0xef0001010004020001002a0300000000000002b77fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_b8 :raw 0xef0001010004020001002a0300000000000002b87fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_b9 :raw 0xef0001010004020001002a0300000000000002b97fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_ba :raw 0xef0001010004020001002a0300000000000002ba7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_bb :raw 0xef0001010004020001002a0300000000000002bb7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_bc :raw 0xef0001010004020001002a0300000000000002bc7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_bd :raw 0xef0001010004020001002a0300000000000002bd7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_be :raw 0xef0001010004020001002a0300000000000002be7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_bf :raw 0xef0001010004020001002a0300000000000002bf7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_c0 :raw 0xef0001010004020001002a0300000000000002c07fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_c1 :raw 0xef0001010004020001002a0300000000000002c17fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_c2 :raw 0xef0001010004020001002a0300000000000002c27fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_c3 :raw 0xef0001010004020001002a0300000000000002c37fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_c4 :raw 0xef0001010004020001002a0300000000000002c47fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_c5 :raw 0xef0001010004020001002a0300000000000002c57fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_c6 :raw 0xef0001010004020001002a0300000000000002c67fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_c7 :raw 0xef0001010004020001002a0300000000000002c77fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_c8 :raw 0xef0001010004020001002a0300000000000002c87fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_c9 :raw 0xef0001010004020001002a0300000000000002c97fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_ca :raw 0xef0001010004020001002a0300000000000002ca7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_cb :raw 0xef0001010004020001002a0300000000000002cb7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_cc :raw 0xef0001010004020001002a0300000000000002cc7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_cd :raw 0xef0001010004020001002a0300000000000002cd7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_ce :raw 0xef0001010004020001002a0300000000000002ce7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_cf :raw 0xef0001010004020001002a0300000000000002cf7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_d0 :raw 0xef0001010004020001002a0300000000000002d07fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_d1 :raw 0xef0001010004020001002a0300000000000002d17fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_d2 :raw 0xef0001010004020001002a0300000000000002d27fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_d3 :raw 0xef0001010004020001002a0300000000000002d37fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_d4 :raw 0xef0001010004020001002a0300000000000002d47fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_d5 :raw 0xef0001010004020001002a0300000000000002d57fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_d6 :raw 0xef0001010004020001002a0300000000000002d67fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_d7 :raw 0xef0001010004020001002a0300000000000002d77fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_d8 :raw 0xef0001010004020001002a0300000000000002d87fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_d9 :raw 0xef0001010004020001002a0300000000000002d97fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_da :raw 0xef0001010004020001002a0300000000000002da7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_db :raw 0xef0001010004020001002a0300000000000002db7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_dc :raw 0xef0001010004020001002a0300000000000002dc7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_dd :raw 0xef0001010004020001002a0300000000000002dd7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_de :raw 0xef0001010004020001002a0300000000000002de7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_df :raw 0xef0001010004020001002a0300000000000002df7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_e0 :raw 0xef0001010004020001002a0300000000000002e07fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_e1 :raw 0xef0001010004020001002a0300000000000002e17fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_e2 :raw 0xef0001010004020001002a0300000000000002e27fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_e3 :raw 0xef0001010004020001002a0300000000000002e37fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_e4 :raw 0xef0001010004020001002a0300000000000002e47fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_e5 :raw 0xef0001010004020001002a0300000000000002e57fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_e6 :raw 0xef0001010004020001002a0300000000000002e67fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_e7 :raw 0xef0001010004020001002a0300000000000002e77fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_e8 :raw 0xef0001010004020001002a0300000000000002e87fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_e9 :raw 0xef0001010004020001002a0300000000000002e97fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_ea :raw 0xef0001010004020001002a0300000000000002ea7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_eb :raw 0xef0001010004020001002a0300000000000002eb7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_ec :raw 0xef0001010004020001002a0300000000000002ec7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_ed :raw 0xef0001010004020001002a0300000000000002ed7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_ee :raw 0xef0001010004020001002a0300000000000002ee7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_ef :raw 0xef0001010004020001002a0300000000000002ef7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_f2 :raw 0xef0001010004020001002a0300000000000000f27fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_f6 :raw 0xef0001010004020001002a0300000000000002f67fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_f7 :raw 0xef0001010004020001002a0300000000000002f77fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_f8 :raw 0xef0001010004020001002a0300000000000002f87fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_f9 :raw 0xef0001010004020001002a0300000000000002f97fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_fb :raw 0xef0001010004020001002a0300000000000002fb7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_fc :raw 0xef0001010004020001002a0300000000000000fc7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
     - 'label invinit_ff :raw 0xef0001010004020001002a0300000000000000ff7fef000101000402000100010300000000000000fe00000000000000000000000060005260146000f3'
    gasLimit:
      - 70000
    gasPrice: 10
    nonce: 0
    secretKey: 45a915e4d060149eb4365960e6a7a45f334393093061116b197e3240065ff2d8
    to: ''
    value:
      - 0

  expect:
    - indexes: {}
      network:
        - 'Shanghai'
      result:
       a94f5374fce5edbc8e2a8697c15331677e6ebf0b:
         nonce: 0
       6295ee1b4f6dd65047762f924ecd367c17eabf8f:
         shouldnotexist: 1
